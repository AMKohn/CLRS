---
title:      Exercise 1.2-2
clrs:       [1, 2]
date:       2012-08-19 21:05
code:       true
graph:      true
---

> Suppose we are comparing implementations of insertion sort and merge sort on the same machine. For inputs of size $$n$$, insertion sort runs in $$8n^2$$ steps, while merge sort runs in $$64n \lg n$$ steps. For which values of $$n$$ does insertion sort beat merge sort?

For insertion sort to beat merge sort for inputs of size $$n$$, $$8n^2$$ must be less than $$64n \lg n$$.

$$\begin{aligned}

         & 8n^2       &&< 64n \lg n \\

\implies & 8n \cdot n &&< 8n \cdot 8\lg n \\
\implies & n          &&< 8\lg n \\
\implies & n          &&< \lg n^8 \\
\implies & 2^n        &&< n^8 \implies 2^{n/8} < n
\end{aligned}$$

This is not a purely polynomial equation in $$n$$. To find the required range of values of $$n$$, either we have to manually calculate the values of these expression for different values of $$n$$ or use [Newton's Method](https://en.wikipedia.org/wiki/Newton%27s_method){:target="_blank"} or plot these functions or write a piece of code to found the values. For this exercise, I'll briefly describe all of these methods but going forward I'll mostly use calculations that can be done with scientific calculator (to help the students visiting these pages) and python codes (to help myself).

#### Good Ol' Calculation

It is obvious that insertion sort runs at quadratic time which is definitely worse than merge sort's linearithmic time for very large values of $$n$$. We know for $$n = 1$$, merge sort beats insertion sort. But for values greater than that, insertion sort beats merge sort. So, we will start checking from $$n = 2$$ and go up to see for what value of $$n$$ merge sort again starts to beat insertion sort.

Notice that for $$n < 8$$, $$2^{n/8}$$ will be a fraction. So, let's start with $$n = 8$$ and check for values of $$n$$ which are powers of 2.

$$\begin{aligned}
n = 8  &\Rightarrow 2^{8/8}  = 2   &&< 8 \\
n = 16 &\Rightarrow 2^{16/8} = 4   &&< 16 \\
n = 32 &\Rightarrow 2^{32/8} = 16  &&< 32 \\
n = 64 &\Rightarrow 2^{64/8} = 256 &&> 64
\end{aligned}$$

Note that we don't need to continue anymore as we have found an approximate range of values for $$n$$ where merge sort starts to beat insertion sort; somewhere between 32 and 64. Let's do what we were doing but now we are going to try middle value of either range, repeatedly (or in other words, binary search, if you have been reading ahead).

$$\begin{aligned}
n = 48 & \Rightarrow 2^{48/8} = 64   &&> 48 \\
n = 40 & \Rightarrow 2^{40/8} = 32   &&< 40 \\
n = 44 & \Rightarrow 2^{44/8} = 44.8 &&> 44 \\
n = 42 & \Rightarrow 2^{42/8} = 38.4 &&< 42 \\
n = 43 & \Rightarrow 2^{43/8} = 42.4 &&< 43
\end{aligned}$$

So, at $$n = 44$$, merge sort starts to beat insertion sort again. Therefore, for $$2 \le n \le 43$$, insertion sort beats merge sort.

#### Newton's Method

To apply [Newton's Method](https://en.wikipedia.org/wiki/Newton%27s_method){:target="_blank"} of approximation, we need to ballpark two values of $$n$$ on either side of the actual solution and hit-and-try for the actual one following binary search principle. This is the principle we have almost followed in the previous section but the proper process involves calculus and way too time consuming for me to write about.

#### Graphical Plot

Plot the functions $$2^{n/8}$$ and $$n$$ to get the points where they intersect.

{% include graph/graph_E010202.html %}

From the above graph, we can see that the plots intersect at $$n = 1.1$$ and $$n = 43.56$$.

Here, $$n$$ is the input size so it must be an integer. So, the values of $$n$$ for which insertion beats merge sort is $$2 \le n \le 43$$.

#### Python Code

Let's start with $$n = 2$$ and go up to see for what value of $$n$$ merge sort again starts to beat insertion sort.

{% include code/code_wrapper_begin.html %}
{% include code/01/code_E010202.py %}
{% include code/code_wrapper_finish.html %}
